<!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∞—Ç–∞ -->
<div id="chat-container">
  <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
  <div id="top-bar">
    <button id="menuButton">‚ò∞</button>
    <h3>–ß–∞—Ç Free Fire</h3>
    <button id="shopButton">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
  </div>

  <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
  <div id="messages"></div>

  <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
  <div id="input-container">
    <input type="text" id="messageInput" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
    <button id="sendButton">‚û§</button>
  </div>
</div>

<!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
<div id="sideMenu">
  <h3>–ú–µ–Ω—é</h3>
  <ul>
    <li>‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</li>
    <li>üòä –°–º–∞–π–ª—ã</li>
    <li>‚å® –ö–æ–º–∞–Ω–¥—ã</li>
  </ul>
</div>

<!-- –§–æ–Ω –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é -->
<div id="overlay"></div>

<style>
  body { margin:0; font-family:Arial,sans-serif; background-color:#1c1c1c; color:#fff; }
  #chat-container { display:flex; flex-direction:column; height:100vh; max-width:500px; margin:auto; background:#2a2a2a; border-radius:12px; overflow:hidden; box-shadow:0 4px 20px rgba(0,0,0,0.4); }
  #top-bar { display:flex; align-items:center; justify-content:space-between; padding:12px; background:#3a3a3a; font-size:18px; font-weight:bold; }
  #top-bar button { background:none; border:none; color:#fff; font-size:24px; cursor:pointer; transition:transform 0.2s; margin-left:8px; }
  #top-bar button:hover { transform:scale(1.2); }
  #messages { flex:1; padding:15px; overflow-y:auto; background:#222; display:flex; flex-direction:column; gap:8px; }
  .message { padding:10px 14px; border-radius:12px; max-width:70%; word-wrap:break-word; font-size:14px; line-height:1.4; opacity:0; transform:translateY(10px); animation:fadeIn 0.3s ease forwards; }
  .message.user { background:#ff4747; align-self:flex-end; border-bottom-right-radius:2px; }
  .message.other { background:#444; align-self:flex-start; border-bottom-left-radius:2px; }
  @keyframes fadeIn { to { opacity:1; transform:translateY(0); } }
  #input-container { display:flex; padding:10px; background:#2f2f2f; }
  #messageInput { flex:1; padding:10px; border:none; border-radius:8px; outline:none; font-size:14px; }
  #sendButton { margin-left:10px; padding:10px 14px; border:none; border-radius:8px; background:#ff4747; color:#fff; font-size:16px; cursor:pointer; transition:background 0.3s; }
  #sendButton:hover { background:#e53e3e; }
  #sideMenu { position:fixed; top:0; left:-260px; width:240px; height:100%; background:#2b2b2b; color:#fff; padding:20px; transition:left 0.3s ease; z-index:1001; box-shadow:2px 0 10px rgba(0,0,0,0.5); }
  #sideMenu h3 { margin-top:0; border-bottom:1px solid #444; padding-bottom:10px; }
  #sideMenu ul { list-style:none; padding:0; }
  #sideMenu li { margin:15px 0; cursor:pointer; padding:8px; border-radius:6px; transition:background 0.2s; }
  #sideMenu li:hover { background:#3a3a3a; }
  #sideMenu.show { left:0; }
  #overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:none; z-index:1000; }
  #overlay.show { display:block; }
</style>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "shopchat-53e69.firebaseapp.com",
    databaseURL: "https://shopchat-53e69-default-rtdb.firebaseio.com",
    projectId: "shopchat-53e69",
    storageBucket: "shopchat-53e69.appspot.com",
    messagingSenderId: "YOUR_MESSAGING_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const menuButton = document.getElementById('menuButton');
  const sideMenu = document.getElementById('sideMenu');
  const overlay = document.getElementById('overlay');
  const sendButton = document.getElementById('sendButton');
  const messageInput = document.getElementById('messageInput');
  const messages = document.getElementById('messages');
  const shopButton = document.getElementById('shopButton');

  menuButton.addEventListener('click', () => { sideMenu.classList.toggle('show'); overlay.classList.toggle('show'); });
  overlay.addEventListener('click', () => { sideMenu.classList.remove('show'); overlay.classList.remove('show'); });

  shopButton.addEventListener('click', () => {
    window.location.href = '/products/';
  });

  function sendMessage() {
    const text = messageInput.value.trim();
    if (!text) return;
    const msg = { text: text, sender: "–ò–≥—Ä–æ–∫" + Math.floor(Math.random()*1000), timestamp: Date.now() };
    db.ref("messages").push(msg);
    messageInput.value = '';
  }

  sendButton.addEventListener('click', sendMessage);
  messageInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });

  db.ref("messages").on("child_added", (snapshot) => {
    const msg = snapshot.val();
    const div = document.createElement("div");
    div.textContent = msg.sender + ": " + msg.text;
    div.classList.add("message", msg.sender.startsWith("–ò–≥—Ä–æ–∫") ? "user" : "other");
    messages.appendChild(div);
    messages.scrollTop = messages.scrollHeight;
  });
</script>